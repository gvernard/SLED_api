{% extends 'master_header.html' %}
{% load static %}
{% block content %}

<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

<script type="text/javascript" src="{% static 'lenses/js/lens_give_access.js' %}"></script>

<h1>Give access to private lenses</h1>

<p>
  Share your secrets!
</p>

<div class="content">
  <form id="ids-form" method="POST">
    <span class="errorlist">{{ error_message }}</span>
    
    <div style="width:100%;border:1px solid black">
      <select id="users-autocomplete" class="js-example-data-ajax" name="users" multiple></select>
    </div>

    {% include "lens_list_executive.html" with lenses=lenses %}

  </form>
</div>

<div>
  <button type="submit" id="submit-btn" form="ids-form">Confirm giving access</button>
</div>

<script>
  var checkboxes = document.querySelectorAll('.content input[type="checkbox"]');
  if( checkboxes.length > 0){
      for(var i=0;i<checkboxes.length;i++){
	  checkboxes[i].checked = true;
      }
  }
</script>

{% endblock content %}
